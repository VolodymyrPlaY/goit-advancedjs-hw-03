{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '45260330-4aac6e6a6c993f9154e4b36c5';\n\nexport async function fetchImages(query, page = 1, perPage = 12) {\n  const URL = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true&per_page=${perPage}&page=${page}`;\n  try {\n    const response = await fetch(URL);\n    if (!response.ok) throw new Error('Network response was not ok');\n    return await response.json();\n  } catch (error) {\n    throw error;\n  }\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nlet lightbox;\n\nexport function renderGallery(images) {\n  const gallery = document.querySelector('.gallery');\n  gallery.innerHTML = images.map(image => {\n    return `\n            <div class=\"photo-card\">\n                <a href=\"${image.largeImageURL}\" class=\"gallery-link\">\n                    <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" loading=\"lazy\" />\n                </a>\n                <div class=\"info\">\n                    <p class=\"info-item\">\n                        <b>Likes</b> ${image.likes}\n                    </p>\n                    <p class=\"info-item\">\n                        <b>Views</b> ${image.views}\n                    </p>\n                    <p class=\"info-item\">\n                        <b>Comments</b> ${image.comments}\n                    </p>\n                    <p class=\"info-item\">\n                        <b>Downloads</b> ${image.downloads}\n                    </p>\n                </div>\n            </div>\n        `;\n  }).join('');\n\n  if (lightbox) {\n    lightbox.refresh();\n  } else {\n    lightbox = new SimpleLightbox('.gallery a');\n  }\n}\n\nexport function showLoader() {\n  document.querySelector('.loader').classList.remove('hidden');\n}\n\nexport function hideLoader() {\n  document.querySelector('.loader').classList.add('hidden');\n}\n\nexport function showError(message) {\n  iziToast.error({\n    title: 'Error',\n    message: message,\n  });\n}\n","import { fetchImages } from './js/pixabay-api.js';\nimport { renderGallery, showLoader, hideLoader, showError } from './js/render-functions.js';\n\ndocument.addEventListener('DOMContentLoaded', function() {\n  const form = document.getElementById('search-form');\n  const gallery = document.querySelector('.gallery');\n\n  form.addEventListener('submit', async function(event) {\n    event.preventDefault();\n    const query = form.querySelector('input[name=\"searchQuery\"]').value.trim();\n\n    if (query === '') {\n      showError('Please enter a search query.');\n      return;\n    }\n\n    showLoader();\n    gallery.innerHTML = '';\n\n    try {\n      const data = await fetchImages(query);\n      hideLoader();\n      if (data.totalHits > 0) {\n        renderGallery(data.hits);\n      } else {\n        showError('Sorry, there are no images matching your search query. Please try again!');\n      }\n    } catch (error) {\n      hideLoader();\n      console.error(\"Request Failed:\", error);\n      showError('An error occurred while fetching images.');\n    } finally {\n      form.reset();\n    }\n  });\n});\n"],"names":["API_KEY","fetchImages","query","page","perPage","URL","response","error","lightbox","renderGallery","images","gallery","image","SimpleLightbox","showLoader","hideLoader","showError","message","iziToast","form","event","data"],"mappings":"6vBAAA,MAAMA,EAAU,qCAET,eAAeC,EAAYC,EAAOC,EAAO,EAAGC,EAAU,GAAI,CAC/D,MAAMC,EAAM,gCAAgCL,CAAO,MAAM,mBAAmBE,CAAK,CAAC,qEAAqEE,CAAO,SAASD,CAAI,GAC3K,GAAI,CACF,MAAMG,EAAW,MAAM,MAAMD,CAAG,EAChC,GAAI,CAACC,EAAS,GAAI,MAAM,IAAI,MAAM,6BAA6B,EAC/D,OAAO,MAAMA,EAAS,MACvB,OAAQC,EAAO,CACd,MAAMA,CACP,CACH,CCNA,IAAIC,EAEG,SAASC,EAAcC,EAAQ,CACpC,MAAMC,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAYD,EAAO,IAAIE,GACtB;AAAA;AAAA,2BAEgBA,EAAM,aAAa;AAAA,gCACdA,EAAM,YAAY,UAAUA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,uCAI/BA,EAAM,KAAK;AAAA;AAAA;AAAA,uCAGXA,EAAM,KAAK;AAAA;AAAA;AAAA,0CAGRA,EAAM,QAAQ;AAAA;AAAA;AAAA,2CAGbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,SAKvD,EAAE,KAAK,EAAE,EAENJ,EACFA,EAAS,QAAO,EAEhBA,EAAW,IAAIK,EAAe,YAAY,CAE9C,CAEO,SAASC,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,UAAU,OAAO,QAAQ,CAC7D,CAEO,SAASC,GAAa,CAC3B,SAAS,cAAc,SAAS,EAAE,UAAU,IAAI,QAAQ,CAC1D,CAEO,SAASC,EAAUC,EAAS,CACjCC,EAAS,MAAM,CACb,MAAO,QACP,QAASD,CACb,CAAG,CACH,CClDA,SAAS,iBAAiB,mBAAoB,UAAW,CACvD,MAAME,EAAO,SAAS,eAAe,aAAa,EAC5CR,EAAU,SAAS,cAAc,UAAU,EAEjDQ,EAAK,iBAAiB,SAAU,eAAeC,EAAO,CACpDA,EAAM,eAAc,EACpB,MAAMlB,EAAQiB,EAAK,cAAc,2BAA2B,EAAE,MAAM,OAEpE,GAAIjB,IAAU,GAAI,CAChBc,EAAU,8BAA8B,EACxC,MACD,CAEDF,IACAH,EAAQ,UAAY,GAEpB,GAAI,CACF,MAAMU,EAAO,MAAMpB,EAAYC,CAAK,EACpCa,IACIM,EAAK,UAAY,EACnBZ,EAAcY,EAAK,IAAI,EAEvBL,EAAU,0EAA0E,CAEvF,OAAQT,EAAO,CACdQ,IACA,QAAQ,MAAM,kBAAmBR,CAAK,EACtCS,EAAU,0CAA0C,CAC1D,QAAc,CACRG,EAAK,MAAK,CACX,CACL,CAAG,CACH,CAAC"}